{%load static%}

<!DOCTYPE html>
<html lang="en" style="scroll-behavior: smooth" ;>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- INTEGRARE TAILWIND CSS IN STYLESHEET-UL CSS -->
  <link rel="stylesheet" href="{% static 'styles.css' %}">
  <!-- END -->
  <script src="https://unpkg.com/flowbite@1.4.1/dist/flowbite.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          screens: {
            'xs': '420px',
          },
        }
      }
    }
  </script>
  <title>{{request.user}}'s passwords</title>
  <style>
    @media only screen and (max-width: 600px) {
      .drprightstart {
        position: absolute !important;
        inset: 50px auto auto -140px !important;
        argin: 0px !important;
        transform: translate3d(252px, 480px, 0px) !important;
      }
    }

    #info-img:before 
    {
      content: ' ';
      display: block;
      position: absolute;
      height: 70px;
      width: 80px;
      background-image: url("/static/favicon.ico");
      background-repeat: no-repeat;
    }

  </style>
</head>

<body>


  <!-- HEADER-UL SI BARA DE NAVIGATIE A PAGINII -->
  <header class="text-black body-font mb-16">
    <div class="container mx-auto flex flex-wrap p-5 flex-col justify-between md:flex-row items-center">
      <a href="{% url 'home' %}" class="flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0">
        <svg class="w-12 h-12 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z">
          </path>
        </svg>
        <span class="ml-3 text-5xl text-black tracking-wider" translate="no">MY</span> <span
          class="text-5xl text-orange-600 font-bold tracking-wider" translate="no">KEY</span>
      </a>
      <nav class="md:ml-auto flex flex-wrap items-center text-base justify-center font-semibold">
        <div class="container flex flex-wrap justify-center items-center mx-auto">
          <button data-collapse-toggle="mobile-menu" type="button"
            class="text-orange-600 inline-flex items-center p-2  text-sm text-gray-500 rounded-lg md:hidden focus:outline-none focus:ring-2 focus:ml-24 hover:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
            aria-controls="mobile-menu" aria-expanded="false">
            <span class="sr-only">Open main menu</span>
            <svg class="w-12 h-12 " fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd"
                d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
                clip-rule="evenodd"></path>
            </svg>
            <svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd"
                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                clip-rule="evenodd"></path>
            </svg>
          </button>
          <div class="hidden w-full md:block md:w-auto" id="mobile-menu">
            <ul
              class="flex flex-col items-center justify-center gap-6 lg:gap-0 mt-6 md:flex-row md:space-x-4 md:mt-0 md:text-sm md:font-medium">
              <li>
                <a href="{% url 'home' %}" class="lg:mr-6 text-2xl font-bold hover:text-orange-600 hover:text-md">Home</a>
              </li>
              {% if request.user.is_anonymous %}
              <li>
                <a href="javascript: displayForm('login-form');">
                  <button
                    class="transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110 bg-orange-600 hover:bg-blue-400 text-white text-lg font-bold py-2 px-4 rounded lg:mr-4">
                    Log In
                  </button>
                </a>
              </li>
              <li>
                <a href="javascript: displayForm('signup-form');">
                  <button
                    class="transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110 bg-orange-600 hover:bg-blue-400 text-lg text-white font-bold py-2 px-4 rounded lg:mr-4">
                    Sign Up
                  </button>
                </a>
              </li>
              {% else %}
              <li>
                <a href="{% url 'passwords' %}"
                  class="lg:mr-6 text-2xl hover:text-orange-600 transition font-bold ease-in-out delay-150 hover:-translate-y-1 hover:scale-110">Account</a>
              </li>
              <li>
                <a href="javascript: displayForm('addpassword-form');"
                  class="lg:mr-6 text-2xl font-bold hover:text-orange-600">Add</a>
              </li>
              <li>
                <a href="javascript:logOut();">
                  <button
                    class="lg:mt-0 transition duration-500 md:mt-0 sm:mt-4 ease-in-out transform hover:-translate-y-1 hover:scale-110 bg-orange-600 hover:bg-blue-400 text-white font-bold py-2 px-4 rounded text-lg lg:mr-4">
                    Log Out
                  </button>
                </a>
                <form hidden="true" action="." method="POST">
                  {% csrf_token %}
                  <input type="submit" id="form-logout" name="logout">
                </form>
              </li>
              {% endif %}
            </ul>
          </div>
        </div>
      </nav>
    </div>
  </header>
  <!-- SFARSITUL HEADERULUI -->

  <section class="text-gray-600 body-font">
    <div class="container px-5 lg:py-16 mb-0 mx-auto">
      <div class="lg:w-2/3 flex flex-col sm:flex-row sm:items-center items-start mx-auto">
        <h1 class="flex-grow sm:pr-16 text-6xl mb-10 title-font font-semibold text-gray-900 text-center">Hello, <b
            class="text-orange-600 text-5xl lg:text-6xl">{{request.user}}</b>
          <button id="dropdownRightStartButton" data-dropdown-toggle="dropdownRightStart"
            data-dropdown-placement="right-start"
            class="mb-3 md:mb-0 text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
            type="button"><svg class="w-10 h-10 text-orange-600" fill="currentColor" viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z" />
              </svg></button>

          <!-- Dropdown menu -->
          <div id="dropdownRightStart"
            class="drprightstart hidden z-10 w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700"
            style="position: absolute; inset: 50px auto auto -140px; margin: 0px; transform: translate3d(252px, 479.143px, 0px);">
            <ul class="py-1 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdownRightStartButton">
              <li>
                <a href="javascript: displayForm('addpassword-form');"
                  class="block font-semibold text-xl py-3 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">
                  <svg class="w-5 h-5 inline-block text-orange-600 mr-2" fill="currentColor" viewBox="0 0 20 20"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fillRule="evenodd"
                      d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"
                      clipRule="evenodd" /></svg>Add Password</a>
              </li>
              <li>
                <a href="javascript:logOut();"
                  class="block font-semibold text-xl py-3 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"><svg
                    class="w-5 h-5 inline-block text-orange-600 mr-2" fill="currentColor" viewBox="0 0 20 20"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fillRule="evenodd"
                      d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z"
                      clipRule="evenodd" /></svg> Log out</a>
                <form hidden="true" action="." method="POST">
                  {% csrf_token %}
                  <input type="submit" id="form-logout" name="logout">
                </form>
              </li>
            </ul>
          </div>
      </div>
      <h1 class="flex-grow w-10/12 mx-auto mb-20 sm:pr-16 text-2xl font-medium title-font text-gray-900 text-center">All
        your passwords in
        one place. After you press the <b class="text-orange-600">'Add'</b> button above and save your credentials,
        the card will appear down below!</h1>
    </div>
  </section>

  <!--CARDUL CU INFORMATIILE -->
  <div class="container mx-auto py-12 px-12 grid lg:grid-cols-3 grid-cols-1 sm:grid-cols-2 gap-10">
    {% for password in passwords %}
    <div class="max-w-sm bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700" id="{{password.id}}">
      <div class="flex flex-col items-center pb-10">
        <img class="mt-12 mb-3 h-10 w-10" src="{{password.logo}}"  id="info-img"/>
        <h5 id="" class="mb-1 text-center text-xl font-semibold text-gray-900 dark:text-white">{{password.name}}</h5>
      </div>

      <div class="text-center mb-10">
        <div class="mt-4 mb-10">
          <label class="block font-semibold text-xl" for="email">Email</label>
          <input type="text" name="email" placeholder="name@company.com" value="{{password.email}}"
            class="w-8/12 px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600"><svg
            class="copy w-8 h-8 text-orange-600 inline-block cursor-pointer ml-5 mb-2" fill="none" stroke="currentColor"
            viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2">
            </path>
          </svg>
        </div>

        <div class="mt-4">
          <label class="block font-semibold text-xl">Your Password<label>
              <input type="text" name="password" value="{{password.password}}" placeholder="••••••••"
                class="pass-input w-8/12 px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600">
              <svg class="copy w-8 h-8 text-orange-600 text-ceter cursor-pointer inline-block ml-4 mb-2" fill="none"
                stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2">
                </path>
              </svg>
        </div>
        <div class="mt-8 flex items-baseline justify-evenly">
            <a href="{% url 'delete-item' password.id %}" class="mt-4 text-black hover:text-red-700" title="Delete Item">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
              </svg>
            </a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  <!--SFARSIT CARD CU INFORMATII-->

  <!-- WRAPPER MODALE PAGINA PASSWORD -->
  <div class="wrapper w-full h-full hidden justify-center items-center bg-gray-400 bg-opacity-75 fixed inset-0 z-30">
    <!--MODAL ADAUGARE PAROLA-->
    <div class="modal hidden items-center justify-center" id="addpassword-form">
      <div class="px-8 py-6 mt-4 text-left bg-white shadow-lg rounded-lg">
        <div class="flex justify-end p-2">
          <button id="close-button" type="button"
            class="text-orange-600 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white"
            data-modal-toggle="login-modal">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd"
                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                clip-rule="evenodd"></path>
            </svg>
          </button>
        </div>
        <h3 class="text-2xl font-bold text-center mb-8">Enter your credentials</h3>
        <form action="." role="form " method="POST">
          {% csrf_token %}
          <div class="mt-4">
            <div>
              <label class="block font-semibold text-xl" for="email">URL of the website <span class="text-gray-500 font-semibold lg:text-sm">(use https://)</span></label>
              <input type="text" name="url" placeholder="url"
                class="w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600" required="true">
            </div>
            <div class="lg:mt-6">
              <label class="block font-semibold text-xl" for="email">Your Email</label>
              <input type="text" name="email" placeholder="name@company.com"
                class="w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600" required="true">
            </div>

            <div class="lg:mt-6">
              <label class="block font-semibold text-xl">Your Password <i class="far fa-eye text-orange-600 ml-2"
                  id="togglePassword"></i> <label>
                  <input id="id_password" type="password" name="password" placeholder="••••••••"
                    class="w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600" required="true">
            </div>
            <div class="mt-8 flex items-baseline justify-center">
              <input type="submit" name="add-password" value="Done"
                class="px-6 py-2 mt-4 text-white font-semibold bg-orange-600 rounded-lg hover:bg-black hover:text-orange-600">
            </div>
          </div>
      </div>
      </form>
    </div>
  </div>
  <!--SFARSIT MODAL ADAUGARE PAROLA-->
  <script src="{% static 'app.js' %}" defer></script>
  <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">
  </script>
  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'en'
      }, 'google_translate_element');
    }
  </script>
</body>

</html>